(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{16:function(e,n,t){"use strict";t.d(n,"b",function(){return o}),t.d(n,"a",function(){return u});var r=t(44),a=t.n(r),i=t(25),o=function(){var e=u();if(!e)return!1;var n=a()(e.token),t=Date.now()/1e3;return!(n.exp<t)||(console.warn("access token expired"),!1)},u=function(){var e=(new i.a).get("user");return e?"object"==typeof e?e:JSON.parse(e):null}},17:function(e,n,t){"use strict";t.d(n,"c",function(){return a}),t.d(n,"e",function(){return i}),t.d(n,"d",function(){return o}),t.d(n,"g",function(){return u}),t.d(n,"i",function(){return c}),t.d(n,"h",function(){return s}),t.d(n,"f",function(){return l}),t.d(n,"b",function(){return d}),t.d(n,"a",function(){return f});var r=t(3),a=function(e,n){return{type:r.k,payload:{username:e,password:n}}},i=function(e){return{type:r.m,payload:e}},o=function(e){return{type:r.l,payload:e}},u=function(e,n,t){return{type:r.o,payload:{fullname:e,email:n,password:t}}},c=function(e){return{type:r.q,payload:e}},s=function(e){return{type:r.p,payload:e}},l=function(e){return{type:r.n,payload:{history:e}}},d=function(e){return{type:r.j,payload:e}},f=function(e){return{type:r.i,payload:e}}},3:function(e,n,t){"use strict";t.d(n,"k",function(){return r}),t.d(n,"m",function(){return a}),t.d(n,"l",function(){return i}),t.d(n,"o",function(){return o}),t.d(n,"q",function(){return u}),t.d(n,"p",function(){return c}),t.d(n,"n",function(){return s}),t.d(n,"h",function(){return l}),t.d(n,"j",function(){return d}),t.d(n,"i",function(){return f}),t.d(n,"a",function(){return p}),t.d(n,"c",function(){return b}),t.d(n,"b",function(){return m}),t.d(n,"r",function(){return h}),t.d(n,"t",function(){return O}),t.d(n,"s",function(){return j}),t.d(n,"e",function(){return g}),t.d(n,"g",function(){return I}),t.d(n,"f",function(){return y}),t.d(n,"d",function(){return v});var r="LOGIN_USER",a="LOGIN_USER_SUCCESS",i="LOGIN_USER_FAILED",o="REGISTER_USER",u="REGISTER_USER_SUCCESS",c="REGISTER_USER_FAILED",s="LOGOUT_USER",l="FORGET_PASSWORD",d="FORGET_PASSWORD_SUCCESS",f="FORGET_PASSWORD_FAILED",p="ADD_STRING",b="ADD_STRING_SUCCESS",m="ADD_STRING_FAILED",h="UPDATE_STRING",O="UPDATE_STRING_SUCCESS",j="UPDATE_STRING_FAILED",g="DELETE_STRING",I="DELETE_STRING_SUCCESS",y="DELETE_STRING_FAILED",v="CHANGE_TITLE"},39:function(e,n,t){"use strict";t.d(n,"a",function(){return a});var r=t(3),a=function(e){return{type:r.d,payload:e}};n.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;switch(n.type){case r.d:return n.payload;default:return e}}},40:function(e,n,t){"use strict";t.d(n,"b",function(){return j}),t.d(n,"a",function(){return g});var r=t(46),a=t(0),i=t.n(a),o=t(9),u=t(16),c=i.a.lazy(function(){return t.e(8).then(t.bind(null,64))}),s=i.a.lazy(function(){return Promise.all([t.e(0),t.e(1),t.e(12)]).then(t.bind(null,65))}),l=i.a.lazy(function(){return t.e(16).then(t.bind(null,66))}),d=i.a.lazy(function(){return Promise.all([t.e(0),t.e(1),t.e(13)]).then(t.bind(null,67))}),f=i.a.lazy(function(){return Promise.all([t.e(0),t.e(1),t.e(11)]).then(t.bind(null,68))}),p=i.a.lazy(function(){return t.e(7).then(t.bind(null,69))}),b=i.a.lazy(function(){return t.e(2).then(t.bind(null,63))}),m=i.a.lazy(function(){return Promise.all([t.e(6),t.e(17)]).then(t.bind(null,71))}),h=i.a.lazy(function(){return t.e(10).then(t.bind(null,70))}),O=function(e){var n=e.component,t=e.roles,a=Object(r.a)(e,["component","roles"]);return i.a.createElement(o.b,Object.assign({},a,{render:function(e){if(!Object(u.b)())return i.a.createElement(o.a,{to:{pathname:"/"}});var r=Object(u.a)();return t&&-1===t.indexOf(r.role)?i.a.createElement(o.a,{to:{pathname:"/login",state:{from:e.location}}}):i.a.createElement(n,e)}}))},j=[{path:"/",name:"AuthLayout",component:b,route:o.b},{path:"/login",name:"Login",component:s,route:o.b},{path:"/logout",name:"Logout",component:l,route:o.b},{path:"/forget-password",name:"Forget Password",component:d,route:o.b},{path:"/register",name:"Register",component:f,route:o.b},{path:"/confirm",name:"Confirm",component:p,route:o.b},{path:"/dashboard",name:"Dashboard",component:c,route:O,roles:["Admin"],title:"Dashboard"},{path:"/",exact:!0,component:function(){return i.a.createElement(o.a,{to:"/dashboard"})},route:O}],g=[{path:"/strings/create",name:"CreateStringPage",component:h,title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443",route:o.b},{path:"/strings",name:"StringsPage",component:m,title:"\u0421\u0442\u0440\u043e\u043a\u0438",route:o.b}]},47:function(e,n,t){e.exports=t(62)},59:function(e,n,t){},62:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(22),o=t.n(i),u=t(26),c=t(27),s=t(29),l=t(28),d=t(30),f=t(21),p=t(20),b=t(35),m=t.n(b),h=t(40);var O=t(16),j=(t(59),function(){return a.a.createElement("div",null)}),g=m()({loader:function(){return t.e(18).then(t.bind(null,442))},render:function(e,n){var t=e.default;return a.a.createElement(t,n)},loading:j}),I=m()({loader:function(){return t.e(2).then(t.bind(null,63))},render:function(e,n){var t=e.default;return a.a.createElement(t,n)},loading:j});!function(){var e=[{id:1,username:"test",password:"test",firstName:"Test",lastName:"User",role:"Admin"}],n=window.fetch;window.fetch=function(t,r){return new Promise(function(a,i){setTimeout(function(){if(t.endsWith("/users/authenticate")&&"POST"===r.method){var o=JSON.parse(r.body),u=e.filter(function(e){return e.username===o.username&&e.password===o.password});if(u.length){var c=u[0],s={id:c.id,username:c.username,firstName:c.firstName,lastName:c.lastName,role:"Admin",token:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJDb2RlcnRoZW1lIiwiaWF0IjoxNTU1NjgyNTc1LCJleHAiOjE1ODcyMTg1NzUsImF1ZCI6ImNvZGVydGhlbWVzLmNvbSIsInN1YiI6InRlc3QiLCJmaXJzdG5hbWUiOiJIeXBlciIsImxhc3RuYW1lIjoiVGVzdCIsIkVtYWlsIjoidGVzdEBoeXBlci5jb2RlcnRoZW1lcy5jb20iLCJSb2xlIjoiQWRtaW4ifQ.8qHJDbs5nw4FBTr3F8Xc1NJYOMSJmGnRma7pji0YwB4"};a({ok:!0,json:function(){return s}})}else i("Username or password is incorrect")}else if(t.endsWith("/users/register")&&"POST"===r.method){var l=JSON.parse(r.body),d=l.fullname.split(" "),f=d.firstName,p=d.lastName,b={id:e.length+1,username:f,password:l.password,firstName:f,lastName:p,role:"Admin"};e.push({newUser:b});var m={id:b.id,username:b.username,firstName:b.firstName,lastName:b.lastName,role:b.role,token:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJDb2RlcnRoZW1lIiwiaWF0IjoxNTU1NjgyNTc1LCJleHAiOjE1ODcyMTg1NzUsImF1ZCI6ImNvZGVydGhlbWVzLmNvbSIsInN1YiI6InRlc3QiLCJmaXJzdG5hbWUiOiJIeXBlciIsImxhc3RuYW1lIjoiVGVzdCIsIkVtYWlsIjoidGVzdEBoeXBlci5jb2RlcnRoZW1lcy5jb20iLCJSb2xlIjoiQWRtaW4ifQ.8qHJDbs5nw4FBTr3F8Xc1NJYOMSJmGnRma7pji0YwB4"};a({ok:!0,json:function(){return m}})}else if(t.endsWith("/users/password-reset")&&"POST"===r.method){var h=JSON.parse(r.body);if(e.filter(function(e){return e.username===h.username}).length){var O={message:"We've sent you a link to reset password to your registered email."};a({ok:!0,json:function(){return O}})}else i("Sorry, we could not find any registered user with entered username")}else t.endsWith("/users")&&"GET"===r.method?r.headers&&"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJDb2RlcnRoZW1lIiwiaWF0IjoxNTU1NjgyNTc1LCJleHAiOjE1ODcyMTg1NzUsImF1ZCI6ImNvZGVydGhlbWVzLmNvbSIsInN1YiI6InRlc3QiLCJmaXJzdG5hbWUiOiJIeXBlciIsImxhc3RuYW1lIjoiVGVzdCIsIkVtYWlsIjoidGVzdEBoeXBlci5jb2RlcnRoZW1lcy5jb20iLCJSb2xlIjoiQWRtaW4ifQ.8qHJDbs5nw4FBTr3F8Xc1NJYOMSJmGnRma7pji0YwB4"===r.headers.Authorization?a({ok:!0,json:function(){return e}}):i("Unauthorised"):n(t,r).then(function(e){return a(e)})},500)})}}();var y=function(e){var n=function(n){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,n),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement(e,this.props)}}]),t}(r.Component);return Object(p.b)()(n)},v=function(e){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(a)))).getLayout=function(){return Object(O.b)()?I:g},t}return Object(d.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement(f.a,null,a.a.createElement(a.a.Fragment,null,h.b.map(function(n,t){return a.a.createElement(n.route,{key:t,path:n.path,exact:n.exact,roles:n.roles,component:y(function(t){var i=e.getLayout();return a.a.createElement(r.Suspense,{fallback:j()},a.a.createElement(i,Object.assign({},t,{title:n.title}),a.a.createElement(n.component,t)))})})})))}}]),n}(r.Component),S=Object(p.b)(function(e){return{isAuthenticated:e.Auth.isAuthenticated}},null)(v);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=t(14),E=t(45),N=t(6),T=t(3),J={user:Object(O.a)(),loading:!1},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case T.k:return Object(N.a)({},e,{loading:!0});case T.m:return Object(N.a)({},e,{user:n.payload,loading:!1,error:null});case T.l:return Object(N.a)({},e,{error:n.payload,loading:!1});case T.o:return Object(N.a)({},e,{loading:!0});case T.q:return Object(N.a)({},e,{user:n.payload,loading:!1,error:null});case T.p:return Object(N.a)({},e,{error:n.payload,loading:!1});case T.n:return Object(N.a)({},e,{user:null});case T.h:return Object(N.a)({},e,{loading:!0});case T.j:return Object(N.a)({},e,{passwordResetStatus:n.payload,loading:!1,error:null});case T.i:return Object(N.a)({},e,{error:n.payload,loading:!1});default:return Object(N.a)({},e)}},x={existStrings:[{id:23421,identifier:"mobile.profile.generalInfo",string:"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",hasTranslate:["ru","en","es","ee"]},{id:23422,identifier:"mobile.profile.generalInfo",string:"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",hasTranslate:["ru","en","es","ee"]},{id:23423,identifier:"mobile.profile.generalInfo",string:"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",hasTranslate:["ru","en","es","ee"]},{id:23424,identifier:"mobile.profile.generalInfo",string:"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",hasTranslate:["ru","en","es","ee"]},{id:23425,identifier:"mobile.profile.generalInfo",string:"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",hasTranslate:["ru","en","es","ee"]},{id:23426,identifier:"mobile.profile.generalInfo",string:"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",hasTranslate:["ru","en","es","ee"]},{id:23427,identifier:"mobile.profile.generalInfo",string:"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",hasTranslate:["ru","en","es","ee"]},{id:23428,identifier:"mobile.profile.generalInfo",string:"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",hasTranslate:["ru","en","es","ee"]},{id:23429,identifier:"mobile.profile.generalInfo",string:"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",hasTranslate:["ru","en","es","ee"]},{id:23430,identifier:"mobile.profile.generalInfo",string:"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",hasTranslate:["ru","en","es","ee"]},{id:23431,identifier:"mobile.profile.generalInfo",string:"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",hasTranslate:["ru","en","es","ee"]},{id:23432,identifier:"mobile.profile.generalInfo",string:"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",hasTranslate:["ru","en","es","ee"]},{id:23433,identifier:"mobile.profile.generalInfo",string:"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",hasTranslate:["ru","en","es","ee"]}],loading:!1,error:null},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.payload;switch(t){case T.a:return Object(N.a)({},e,{loading:!0});case T.c:return Object(N.a)({},e,{existStrings:r,loading:!1,error:null});case T.b:return Object(N.a)({},e,{error:r,loading:!1});case T.r:return Object(N.a)({},e,{loading:!0});case T.t:return Object(N.a)({},e,{existStrings:r,loading:!1,error:null});case T.s:return Object(N.a)({},e,{error:r,loading:!1});case T.e:return Object(N.a)({},e,{user:null});case T.g:return Object(N.a)({},e,{existStrings:r,loading:!1,error:null});case T.f:return Object(N.a)({},e,{error:r,loading:!1});default:return Object(N.a)({},e)}},G=t(39),C=Object(w.c)({Auth:R,strings:k,title:G.b}),_=t(7),W=t.n(_),D=t(8),L=t(25),U=t(17),A=W.a.mark(H),z=W.a.mark(q),F=W.a.mark(K),V=W.a.mark($),P=W.a.mark(ee),B=W.a.mark(ne),X=W.a.mark(te),Y=W.a.mark(re),Q=W.a.mark(ae),Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,n).then(function(e){if(200===!e.status)throw e.json();return e.json()}).then(function(e){return e}).catch(function(e){throw e})},M=function(e){var n=new L.a;e?n.set("user",JSON.stringify(e),{path:"/"}):n.remove("user")};function H(e){var n,t,r,a,i,o;return W.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return n=e.payload,t=n.username,r=n.password,a={body:JSON.stringify({username:t,password:r}),method:"POST",headers:{"Content-Type":"application/json"}},u.prev=2,u.next=5,Object(D.b)(Z,"/users/authenticate",a);case 5:return i=u.sent,M(i),u.next=9,Object(D.d)(Object(U.e)(i));case 9:u.next=24;break;case 11:u.prev=11,u.t0=u.catch(2),u.t1=u.t0.status,u.next=500===u.t1?16:401===u.t1?18:20;break;case 16:return o="Internal Server Error",u.abrupt("break",21);case 18:return o="Invalid credentials",u.abrupt("break",21);case 20:o=u.t0;case 21:return u.next=23,Object(D.d)(Object(U.d)(o));case 23:M(null);case 24:case"end":return u.stop()}},A,null,[[2,11]])}function q(e){var n;return W.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload.history,t.prev=1,M(null),t.next=5,Object(D.b)(function(){n.push("/login")});case 5:t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}},z,null,[[1,7]])}function K(e){var n,t,r,a,i,o,u;return W.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.payload,t=n.fullname,r=n.email,a=n.password,i={body:JSON.stringify({fullname:t,email:r,password:a}),method:"POST",headers:{"Content-Type":"application/json"}},c.prev=2,c.next=5,Object(D.b)(Z,"/users/register",i);case 5:return o=c.sent,c.next=8,Object(D.d)(Object(U.i)(o));case 8:c.next=22;break;case 10:c.prev=10,c.t0=c.catch(2),c.t1=c.t0.status,c.next=500===c.t1?15:401===c.t1?17:19;break;case 15:return u="Internal Server Error",c.abrupt("break",20);case 17:return u="Invalid credentials",c.abrupt("break",20);case 19:u=c.t0;case 20:return c.next=22,Object(D.d)(Object(U.h)(u));case 22:case"end":return c.stop()}},F,null,[[2,10]])}function $(e){var n,t,r,a;return W.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.payload.username,t={body:JSON.stringify({username:n}),method:"POST",headers:{"Content-Type":"application/json"}},i.prev=2,i.next=5,Object(D.b)(Z,"/users/password-reset",t);case 5:return r=i.sent,i.next=8,Object(D.d)(Object(U.b)(r.message));case 8:i.next=22;break;case 10:i.prev=10,i.t0=i.catch(2),i.t1=i.t0.status,i.next=500===i.t1?15:401===i.t1?17:19;break;case 15:return a="Internal Server Error",i.abrupt("break",20);case 17:return a="Invalid credentials",i.abrupt("break",20);case 19:a=i.t0;case 20:return i.next=22,Object(D.d)(Object(U.a)(a));case 22:case"end":return i.stop()}},V,null,[[2,10]])}function ee(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(T.k,H);case 2:case"end":return e.stop()}},P)}function ne(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(T.n,q);case 2:case"end":return e.stop()}},B)}function te(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(T.o,K);case 2:case"end":return e.stop()}},X)}function re(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(T.h,$);case 2:case"end":return e.stop()}},Y)}function ae(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([Object(D.c)(ee),Object(D.c)(ne),Object(D.c)(te),Object(D.c)(re)]);case 2:case"end":return e.stop()}},Q)}var ie=ae,oe=W.a.mark(ue);function ue(e){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([ie()]);case 2:case"end":return e.stop()}},oe)}var ce=Object(E.a)(),se=[ce];o.a.render(a.a.createElement(p.a,{store:function(e){var n=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||w.d,t=Object(w.e)(C,e,n(w.a.apply(void 0,se)));return ce.run(ue),t}()},a.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[47,4,5]]]);
//# sourceMappingURL=main.820311f5.chunk.js.map